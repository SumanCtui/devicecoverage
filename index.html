<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
	<style type="text/css">
		html {
			background: skyblue;
			font-family: sans-serif;
		}
		body {
			background: none;
		}
		label {
			font-weight: bold;
		}
	</style>
</head>
<body class="container mt-5">

<h1 style="text-align: center;">Device & Browser Coverage</h1>
<div class="row p-5">
	<div class="col-6">
		<label class="form-label font-weight-bold">Ranks</label>
		<input class="form-control" type="text" name="ranks" id="ranks"/>
	</div>
	<div class="col-6">
		<label class="form-label font-weight-bold">User Stories</label>
		<input class="form-control" type="text" name="us" id="us"/>
	</div>
</div>
<div class="row p-2">
	<div class="col-12 position-relative text-center">
		<button type="button" class="btn btn-primary position-absolute" style="bottom: 0" name="start" id="start" onclick="createTable()">Start</button>
	</div>
</div>
<div class="p-5 w-50 m-auto">
	<table class="table table-striped table-dark">
		<thead class="table-head">
			<tr>
				<th> User Story</th>
				<th> Devices Covered </th>
			</tr>
		</thead>
		<tbody class="table-body" id="testing-details">
			
		</tbody>
	</table>
</div>

<script type="text/javascript">

	function getRandomDevices(ranks) {
		let devices = [],
		min = Math.ceil(1),
  		max = Math.floor(ranks);
		for (var i = 0; devices.length < 3; i++) {
			let randomRank = Math.floor(Math.random() * (max - min) + min);
			devices.push(randomRank);
			devices = Array.from(new Set(devices));
		}
		return devices.join(',');
	}

	get

	function createTable() {
		let ranks = document.getElementById('ranks').value;
		let us = document.getElementById('us').value;
		let tbody = document.getElementById('testing-details');
		if(ranks && us) {
			ranks = parseInt(ranks);
			us = parseInt(us);
			let htmlToAppend = '';
			for (var i = 1; i <= us; i++) {
				htmlToAppend += `<tr><td>${i}</td><td>${getRandomDevices(ranks)}</td></tr>`
			}
			tbody.innerHTML = htmlToAppend;
		}
	}
</script>

</body>
</html>
